<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" ></script>
    <link rel="stylesheet" href="Untitled-1.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	<title>Login and Register</title>
</head>
<body>
    <div class="v1">
        <video autoplay loop muted plays-inline class="back-video">
            <source src="C:\Users\hride\Desktop\TO DO PROJECT\bg1.mp4" type="video/mp4">
        </video>
        <nav>
            <ul>
                <li><a href="Untitled-1.html">HOME</a></li>
                <li><a href="">LOGIN</a></li>
                <li><a href="todo.html">TO-DO</a></li>
                <li><a href="">ABOUT US</a></li>
            </ul>
        </nav>
        <br>
        <div class="r"><h1 class="regg" >Register Now!!</h1><br></div>
        <div class="regform1">  
            <form name="registration_form" id="registration_form" method="post" action="#" enctype="multipart/form-data" >
                <div class="row" class="r">
                    
                        <div class="form-group">
                          <label class="x" for="email">Email</label>
                          <input type="text" name="email" id="email" class="form-control" placeholder="Enter your email">
                        </div>
                        
                        <div class="form-group">
                          <label class="x" for="password" >Password</label>
                          <input type="password" name="password" id="password" class="form-control"  placeholder="Enter your password">
                        </div>
                        <button type="button" id="register" name="register" class="btn btn-success">Register Now</button>
                    
                </div>
            </form>
        </div>
        <div class="e"><h1 class="regg" >Login Here!!</h1></div><br>
        <div class="regform2">
            <form name="login_form" id="login_form" method="post" action="#" enctype="multipart/form-data" >
                
                    <div class="form-group">
                      <label class="x" for="email">Email</label>
                      <input type="text" name="login_email" id="login_email" class="form-control" placeholder="Enter your email">
                    </div>
                    
                    <div class="form-group">
                      <label class="x" for="password">Password</label>
                      <input type="password" name="login_password" id="login_password" class="form-control"  placeholder="Enter your password">
                    </div>
                    <button type="button" id="login" name="login" class="btn btn-success">Login</button>
                
            </form>
        </div>
    </div>
	
</body>
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-analytics.js";
  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-auth.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
apiKey: "AIzaSyB7v9KeHv_MAfmnbW8KWCRNSY1RwOuplnM",
authDomain: "auth2-e8c63.firebaseapp.com",
projectId: "auth2-e8c63",
storageBucket: "auth2-e8c63.appspot.com",
messagingSenderId: "202792866820",
appId: "1:202792866820:web:7df10b6087052fdd589151"
};


  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const auth = getAuth();
  console.log(app);

  

   
  document.getElementById("register").addEventListener("click", function() {
      var email =  document.getElementById("email").value;
      var password = document.getElementById("password").value;
  
      createUserWithEmailAndPassword(auth, email, password)
      .then((userCredential) => {
        
        const user = userCredential.user;
        console.log(user);
        alert("Registration successfully!!");
        
      })
      .catch((error) => {
        const errorCode = error.code;
        const errorMessage = error.message;
        
        console.log(errorMessage);
        alert(error);
      });		  		  
  });
  

    
  document.getElementById("login").addEventListener("click", function() {
      var email =  document.getElementById("login_email").value;
      var password = document.getElementById("login_password").value;

      signInWithEmailAndPassword(auth, email, password)
      .then((userCredential) => {
      
        const user = userCredential.user;
        console.log(user);
        alert(user.email+" Login successfully!!!");
        window.location.href="todo.html";
        document.getElementById('logout').style.display = 'block';
      
      })
      .catch((error) => {
        const errorCode = error.code;
        const errorMessage = error.message;
        console.log(errorMessage);
        alert(errorMessage);
      });		  		  
  });
 	  
  document.getElementById("logout").addEventListener("click", function() {
      signOut(auth).then(() => {
          console.log('Sign-out successful.');
          alert('Sign-out successful.');
          document.getElementById('logout').style.display = 'none';
        }).catch((error) => {
          
          console.log('An error happened.');
        });		  		  
  });

</script>
</html>
